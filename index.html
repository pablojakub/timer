<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Work Timer</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Outfit:wght@300;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="stage">
        <div class="container">
            <div class="drag-region"></div>
            
            <header class="header">
                <span class="title">Deep Work</span>
                <div class="window-controls">
                    <button class="window-btn" id="themeBtn">üåô</button>
                    <button class="window-btn streak-badge" id="streakBadge" title="Dni z rzƒôdu">
                        <span class="streak-icon">üî•</span>
                        <span class="streak-count" id="streakCount">0</span>
                    </button>
                    <button class="window-btn" id="minimizeBtn">‚àí</button>
                    <button class="close-btn" onclick="window.close()">‚úï</button>
                </div>
            </header>

            <div class="goal-section">
                <label class="goal-label" id="goalLabel">Cel sesji</label>
                <input type="text" class="goal-input" id="goalInput" placeholder="Zaimplementowaƒá X w module Y" title="Po czym poznam, ≈ºe cel zosta≈Ç osiƒÖgniƒôty?">
                <h2 class="goal-display" id="goalDisplay" style="display: none;"></h2>
            </div>

            <div class="timer-display">
                <svg class="progress-ring" viewBox="0 0 200 200">
                    <circle class="bg" cx="100" cy="100" r="90"/>
                    <circle class="progress" id="progressCircle" cx="100" cy="100" r="90"/>
                </svg>
                <div class="timer-controls" id="timerControls">
                    <div class="arrow-buttons-left">
                        <button class="arrow-btn" id="increaseBy10">‚ñ≤</button>
                        <button class="arrow-btn" id="decreaseBy10">‚ñº</button>
                    </div>
                    <div class="time" id="timerDisplay">50 min</div>
                    <div class="arrow-buttons-right">
                        <button class="arrow-btn" id="increaseBy1">‚ñ≤</button>
                        <button class="arrow-btn" id="decreaseBy1">‚ñº</button>
                    </div>
                </div>
            </div>

            <!-- Music Player Section -->
            <div class="music-section" id="musicSection">
                <button class="music-toggle" id="musicToggle">
                    <span class="toggle-icon-music">üéµ</span>
                    <span class="toggle-text">Focus Music</span>
                    <span class="toggle-icon" id="musicToggleIcon">‚ñº</span>
                </button>

                <div class="music-player-container" id="musicPlayerContainer" style="display: none;">
                    <!-- Track Info Display -->
                    <div class="music-track-info">
                        <div class="track-name" id="trackName">No track selected</div>
                        <div class="track-category" id="trackCategory"></div>
                    </div>

                    <!-- Playback Controls -->
                    <div class="music-controls">
                        <button class="music-btn" id="prevTrackBtn" title="Previous track">‚èÆ</button>
                        <button class="music-btn music-btn-play" id="playPauseBtn" title="Play/Pause">‚ñ∂</button>
                        <button class="music-btn" id="nextTrackBtn" title="Next track">‚è≠</button>
                        <button class="music-btn loop-active" id="loopBtn" title="Loop: ON" data-loop="true">üîÅ</button>
                    </div>

                    <!-- Volume Control -->
                    <div class="volume-control">
                        <span class="volume-icon">üîä</span>
                        <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="50">
                        <span class="volume-value" id="volumeValue">50%</span>
                    </div>

                    <!-- Track List -->
                    <div class="track-list-label">Select Track:</div>
                    <div class="track-list" id="trackList">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Hidden audio element -->
                <audio id="musicPlayer" preload="none"></audio>
            </div>

            <!-- Achievements Section -->
            <div class="achievements-section" id="achievementsSection">
                <button class="achievements-toggle" id="achievementsToggle">
                    <span class="toggle-text">Dzisiejsze osiƒÖgniƒôcia</span>
                    <span class="toggle-icon" id="toggleIcon">‚ñº</span>
                    <span class="achievements-count" id="achievementsCount">0</span>
                </button>
                <div class="achievements-list-container" id="achievementsContainer" style="display: none;">
                    <ul class="achievements-list" id="achievementsList"></ul>
                </div>
            </div>

            <!-- Streak Panel -->
            <div class="streak-panel" id="streakPanel" style="display: none;">
                <div class="streak-panel-header">
                    <h3>Tw√≥j postƒôp</h3>
                    <button class="streak-panel-close" id="streakPanelClose">‚úï</button>
                </div>
                <div class="streak-panel-content">
                    <div class="streak-stat">
                        <div class="streak-stat-label">Aktualny streak</div>
                        <div class="streak-stat-value" id="currentStreak">0 dni</div>
                    </div>
                    <div class="streak-stat">
                        <div class="streak-stat-label">Najd≈Çu≈ºszy streak</div>
                        <div class="streak-stat-value" id="longestStreak">0 dni</div>
                    </div>
                    <div class="streak-motivation" id="streakMotivation" style="display: none;">
                        <p class="streak-quote">"Nigdy nie rezygnuj dwa razy z rzƒôdu."</p>
                        <p class="streak-author">- James Clear</p>
                    </div>
                </div>
            </div>

            <div class="controls">
                <button class="btn btn-secondary" id="resetBtn">Reset</button>
                <button class="btn btn-primary" id="startBtn">Start</button>
            </div>

            <!-- Achievement Modal -->
            <div class="modal-overlay" id="achievementModal" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-header">
                        <h3 class="modal-title">OsiƒÖgniƒôcie celu</h3>
                    </div>
                    <div class="modal-body">
                        <p class="modal-question">Czy osiƒÖgnƒÖ≈Çe≈õ sw√≥j cel?</p>
                        <p class="modal-goal-text" id="modalGoalText"></p>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn-secondary modal-btn" id="modalNoBtn">Nie</button>
                        <button class="btn btn-primary modal-btn" id="modalYesBtn">Tak</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

 <script src="streakCounter.js"></script>
 <script src="renderer.js"></script>
</body>
</html>
